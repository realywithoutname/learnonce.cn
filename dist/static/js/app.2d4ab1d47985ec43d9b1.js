webpackJsonp([2,0],{0:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=o(49),a=n(i),r=o(264),s=n(r),d=o(263),c=n(d),l=o(262),u=n(l),f=o(261),v=n(f),p=o(41),h=n(p);o(87),o(39);var m=o(40),_=n(m);s["default"].use(c["default"]),s["default"].use(u["default"]),s["default"].use(_["default"]),s["default"].use({install:function(e){e.prototype.html2text=function(e){return e.replace(/<\/?.+?>/g,"")},e.filter("date",function(e,t){if(e=new Date(e),"Invalid Date"!==e.toString()){var o=e.getFullYear(),n=("0"+(e.getMonth()+1)).substr(-2),i=("0"+e.getDate()).substr(-2),a=("0"+e.getHours()).substr(-2),r=("0"+e.getMinutes()).substr(-2),s=("0"+e.getSeconds()).substr(-2);return t.replace("yyyy",o).replace("YYYY",o).replace("MM",n).replace("DD",i).replace("dd",i).replace("hh",a).replace("HH",a).replace("mm",r).replace("ss",s)}})}}),s["default"].http.interceptors.push(function(e,t){e.params.filter&&(e.params.filter=(0,a["default"])(e.params.filter)),t()});var x=s["default"].extend({components:{vHeader:v["default"]},data:function(){return{dark:!1,noting:!1,list:!1,needNote:!1,needList:!1,needHead:!0}}}),y=new c["default"]({history:!1});y.map(h["default"]),y.start(x,"body")},16:function(e,t){},34:function(e,t,o){var n,i;o(82),n=o(43),i=o(256),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=i)},35:function(e,t,o){var n,i;o(86),n=o(44),i=o(260),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=i)},36:function(e,t,o){var n,i;o(84),n=o(45),i=o(258),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=i)},37:function(e,t,o){var n,i;o(81),n=o(46),i=o(255),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=i)},38:function(e,t,o){var n,i;o(85),n=o(47),i=o(259),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=i)},39:function(e,t){"use strict";!function(e,t){function o(){var t=a.getBoundingClientRect().width;t/d>540&&(t=540*d);a.style.fontSize=12*d+"px",l.rem=e.rem=12*d}var n,i=e.document,a=i.documentElement,r=i.querySelector('meta[name="viewport"]'),s=i.querySelector('meta[name="flexible"]'),d=0,c=0,l=t.flexible||(t.flexible={});if(r){console.warn("将根据已有的meta标签来设置缩放比例");var u=r.getAttribute("content").match(/initial\-scale=([\d\.]+)/);u&&(c=parseFloat(u[1]),d=parseInt(1/c))}else if(s){var f=s.getAttribute("content");if(f){var u=f.match(/initial\-dpr=([\d\.]+)/),v=f.match(/maximum\-dpr=([\d\.]+)/);u&&(d=parseFloat(u[1]),c=parseFloat((1/d).toFixed(2))),v&&(d=parseFloat(v[1]),c=parseFloat((1/d).toFixed(2)))}}if(!d&&!c){var p=(e.navigator.appVersion.match(/android/gi),e.navigator.appVersion.match(/iphone/gi)),h=e.devicePixelRatio;d=p?h>=3&&(!d||d>=3)?3:h>=2&&(!d||d>=2)?2:1:1,c=1/d}if(a.setAttribute("data-dpr",d),!r)if(r=i.createElement("meta"),r.setAttribute("name","viewport"),r.setAttribute("content","initial-scale="+c+", maximum-scale="+c+", minimum-scale="+c+", user-scalable=no"),a.firstElementChild)a.firstElementChild.appendChild(r);else{var m=i.createElement("div");m.appendChild(r),i.write(m.innerHTML)}e.addEventListener("resize",function(){clearTimeout(n),n=setTimeout(o,300)},!1),e.addEventListener("orientationchange",function(){clearTimeout(n),n=setTimeout(o,300)},!1),e.addEventListener("pageshow",function(e){e.persisted&&(clearTimeout(n),n=setTimeout(o,300))},!1),"complete"===i.readyState?i.body.style.fontSize=12*d+"px":i.addEventListener("DOMContentLoaded",function(){i.body.style.fontSize=12*d+"px"},!1),o(),l.dpr=e.dpr=d,l.refreshRem=o,l.rem2px=function(e){var t=parseFloat(e)*this.rem;return"string"==typeof e&&e.match(/rem$/)&&(t+="px"),t},l.px2rem=function(e){var t=parseFloat(e)/this.rem;return"string"==typeof e&&e.match(/px$/)&&(t+="rem"),t}}(window,window.lib||(window.lib={}))},40:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={},n="/api";o.News={find:{method:"GET",url:"/api/news"},findById:{method:"GET",url:"/api/news{/id}"}},o.Note={create:{method:"POST",url:"/api/notes"},find:{method:"GET",url:"/api/notes"},findById:{method:"GET",url:"/api/notes{/id}"},updateById:{method:"PUT",url:"/api/notes{/id}"}};var i=function(e){for(var t in o)o.hasOwnProperty(t)&&(e.prototype[t]=e.resource(n,{},o[t]))};t["default"]={install:i}},41:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(19),a=n(i),r=[{name:"index",route:"/",component:"index"},{name:"news",route:"/news",component:"news"},{name:"news detail",route:"/news/:id",component:"news-detail"},{name:"notes",route:"/notes",component:"note"},{name:"note editor",route:"/notes/:id",component:"note-editor"}],s=function(){var e={},t=!0,n=!1,i=void 0;try{for(var s,d=(0,a["default"])(r);!(t=(s=d.next()).done);t=!0){var c=s.value;e[c.route]={component:o(265)("./"+c.component),name:c.name}}}catch(l){n=!0,i=l}finally{try{!t&&d["return"]&&d["return"]()}finally{if(n)throw i}}return e}();t["default"]=s},42:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={name:"header",data:function(){return{}}}},43:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={name:"app-index",data:function(){return{}},ready:function(){this.$root.needHead=!1},beforeDestroy:function(){this.$root.needHead=!0}}},44:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(18),a=n(i),r=o(17),s=n(r);o(16),a["default"].setOptions({highlight:function(e,t){return s["default"].highlightAuto(e,[t]).value}}),t["default"]={name:"news-detail",data:function(){return{news:{},preview:!1,note:{title:"",content:""}}},ready:function(){this.$root.needNote=!0,this.query()},methods:{query:function(){var e=this,t=this.$route.params.id;this.News.findById({id:t}).then(function(t){e.news=t.json()})["catch"](function(e){console.log(e)})},save:function(){}},filters:{marked:a["default"]},beforeDestroy:function(){this.$root.needNote=!1}}},45:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(50),a=n(i);t["default"]={name:"news",data:function(){return{itemIist:[],mood:!1,timestamp:(new Date).getTime(),filter:{where:{},limit:20,offset:0,filds:["id","title","description","from","createTime","image"],sort:{createTime:"desc"}}}},ready:function(){this.query(),this.$root.needList=!0},methods:{query:function(){var e=this;this.News.find({filter:this.filter}).then(function(t){var o;(o=e.itemIist).push.apply(o,(0,a["default"])(t.json())),0!==e.itemIist.length&&(e.timestamp=new Date(e.itemIist[e.itemIist.length-1].createTime).getTime())})},loadMore:function(){this.filter.offset=this.filter.offset+this.filter.limit,this.query()},imgError:function(e){e.target.src="http://e.hiphotos.baidu.com/zhidao/wh%3D600%2C800/sign=bdd0bc965882b2b7a7ca31c2019de7d7/622762d0f703918fbc781958503d269758eec4f2.jpg"},readMore:function(e){this.$router.go({path:"/news/"+e._id})}}}},46:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(18),a=n(i),r=o(17),s=n(r);o(16),a["default"].setOptions({highlight:function(e,t){return s["default"].highlightAuto(e,[t]).value}}),t["default"]={data:function(){return{note:{title:"",content:""},preview:!0}},computed:{},ready:function(){this.$root.noting=!0,this.$root.needNote=!0,"editor"!==this.$route.params.id&&this.query()},attached:function(){},methods:{save:function(){this.note._id?this.update():this.create()},create:function(){this.Note.create(this.note).then(function(e){console.log(e)})},update:function(){this.Note.updateById({id:this.note._id},this.note).then(function(e){console.log(e)})},query:function(){var e=this;this.Note.findById({id:this.$route.params.id}).then(function(t){e.note=t.json()})}},filters:{marked:a["default"]},components:{}}},47:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(19),a=n(i),r=o(18),s=n(r),d=o(17),c=n(d);o(16),s["default"].setOptions({highlight:function(e,t){return c["default"].highlightAuto(e,[t]).value}}),t["default"]={name:"notes",data:function(){return{filter:{limit:20,offset:0,filds:["title","createTime"]},notes:[],noData:!1}},ready:function(){this.query(),this.$root.needNote=!0},methods:{query:function(){var e=this;this.Note.find({filter:this.filter}).then(function(t){var o=t.json();if(0===o.length)return void(e.noData=!0);var n=!0,i=!1,r=void 0;try{for(var s,d=(0,a["default"])(o);!(n=(s=d.next()).done);n=!0){var c=s.value;c.read=!1,c.content=""}}catch(l){i=!0,r=l}finally{try{!n&&d["return"]&&d["return"]()}finally{if(i)throw r}}e.notes=o})},loadMore:function(){this.filter.offset=this.notes.length,this.query()},findOne:function(e,t){var o=this;return this.notes[t].read?void(this.notes[t].read=!1):this.notes[t].content?void(this.notes[t].read=!0):void this.Note.findById({id:e}).then(function(e){o.notes[t].content=e.json().content,o.notes[t].read=!0})}},filters:{marked:s["default"]},watch:{"$root.noting":function(e){e&&this.$router.go("/notes/editor")}}}},81:function(e,t){},82:function(e,t){},83:function(e,t){},84:function(e,t){},85:function(e,t){},86:function(e,t){},87:function(e,t){},255:function(e,t){e.exports=' <div :class="{\'editor-container\': $root.noting}" class=container> <section class=article> <article> <h1 v-html=note.title></h1> <div class=marked-content v-html="note.content | marked"></div> </article> </section> <section class=preview id=editor> <div class=editor-title> <input placeholder="Entry Title" type=text v-model=note.title name=""> </div> <textarea placeholder="Editer More" v-model=note.content></textarea> <div class=editor-tool> <a class=pre @click="$root.noting = false" href=javascrpt:void(0)>隐藏</a> <a class=save @click=save href=javascrpt:void(0)>&#10004保存</a> </div> </section> </div> '},256:function(e,t){e.exports=' <div class=home _v-391d3ab2=""> <div class=content _v-391d3ab2=""> <h1 _v-391d3ab2="">A·O</h1> <p _v-391d3ab2="">衡量价值的标准不是值不值钱,而是值不值得</p> <a v-link="{path: \'/news\'}" _v-391d3ab2="">新闻</a> <a v-link="{path: \'/notes\'}" _v-391d3ab2="">笔记</a> </div> </div> '},257:function(e,t){e.exports=' <div v-show=$root.needHead class=header _v-3fb292c4=""> <div class=container _v-3fb292c4=""> <a v-link="{path: \'/\'}" class=logo _v-3fb292c4="">A·O</a> <a href=javascript:void(0) @click="$root.dark = !$root.dark" class=view-switch :class="{sun: !$root.dark, mood: $root.dark}" _v-3fb292c4=""></a> <a v-show=$root.needNote href=javascript:void(0) @click="$root.noting = !$root.noting" class=editor-icon :class="{note: !$root.noting, read: $root.noting}" _v-3fb292c4=""></a> <a v-show=$root.needList href=javascript:void(0) @click="$root.list = !$root.list" class=list-icon :class="{list: !$root.list, recard: $root.list}" _v-3fb292c4=""></a> </div> </div> '},258:function(e,t){e.exports=' <div class="content container" _v-5eba5aa3=""> <div v-for="item in itemIist" track-by=_id :class="{\'mood-card\': mood}" class=card _v-5eba5aa3=""> <h2 v-html=item.title class=card-title _v-5eba5aa3=""></h2> <div v-if=item.image class=card-image _v-5eba5aa3=""> <img @error=imgError($event) :src=item.image _v-5eba5aa3=""> </div> <div class=card-content _v-5eba5aa3=""> <p v-html="item.description.substr(0, 150).concat(\'...\')" _v-5eba5aa3=""></p> </div> <h4 class=card-footer _v-5eba5aa3=""> <span _v-5eba5aa3="">来自：{{item.from}} {{item.pubTime | date \'YYYY/MM/dd HH:mm\'}}</span> <a href=javascript:void(0) @click=readMore(item) _v-5eba5aa3="">阅读全文</a> </h4> </div> <div class=need-more _v-5eba5aa3=""> <a href=javescript:void(0) class=waves-effect @click=loadMore _v-5eba5aa3=""></a> </div> </div> '},259:function(e,t){e.exports=' <div class=container _v-69d4d842=""> <section v-for="note in notes" track-by=_id class=card _v-69d4d842=""> <h2 class=card-title _v-69d4d842=""> <b class=time _v-69d4d842="">{{note.createTime | date \'YYYY/MM/DD\'}}</b> <b class=title _v-69d4d842="">{{note.title}}</b> <b @click="findOne(note._id, $index)" class=view _v-69d4d842="">{{note.read ? \'收起\' : \'阅读\'}}</b> </h2> <div v-show=note.read v-html="note.content | marked" class=card-content _v-69d4d842=""> </div> <div class="card-footer read-source" v-show=note.read _v-69d4d842=""> <a v-link="{path: \'/notes/\' + note._id}" _v-69d4d842="">阅读原文</a> </div> </section> <div class=need-more _v-69d4d842=""> <a href=javescript:void(0) :class="{\'no-data\': noData}" class=waves-effect @click=loadMore _v-69d4d842=""></a> </div> </div> '},260:function(e,t){e.exports=' <div :class="{\'editor-container\': $root.noting}" class=container _v-c30c282a=""> <section class=article _v-c30c282a=""> <article v-if=preview _v-c30c282a=""> <div class=marked-content v-html="note.content | marked" _v-c30c282a=""></div> </article> <article v-show=!preview _v-c30c282a=""> <h1 v-html=news.title _v-c30c282a=""></h1> <div v-html="news.content || \'没有内容\'" _v-c30c282a=""></div> <div class=read-source _v-c30c282a=""> <a :href=news.link target=_blank _v-c30c282a="">阅读原文</a> </div> </article> </section> <section :class="{preview: preview}" id=editor _v-c30c282a=""> <div class=editor-title _v-c30c282a=""> <input placeholder="Entry Title" type=text v-model=note.title name="" _v-c30c282a=""> </div> <textarea placeholder="Editer More" v-model=note.content _v-c30c282a=""></textarea> <div class=editor-tool _v-c30c282a=""> <a class=pre @click="preview = !preview" href=javascrpt:void(0) _v-c30c282a="">预览</a> <a class=save @click=save href=javascrpt:void(0) _v-c30c282a="">✔保存</a> </div> </section> </div> '},261:function(e,t,o){var n,i;o(83),n=o(42),i=o(257),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=i)},265:function(e,t,o){function n(e){return o(i(e))}function i(e){return a[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var a={"./index":34,"./index.vue":34,"./news":36,"./news-detail":35,"./news-detail.vue":35,"./news.vue":36,"./note":38,"./note-editor":37,"./note-editor.vue":37,"./note.vue":38};n.keys=function(){return Object.keys(a)},n.resolve=i,e.exports=n,n.id=265}});
//# sourceMappingURL=app.2d4ab1d47985ec43d9b1.js.map