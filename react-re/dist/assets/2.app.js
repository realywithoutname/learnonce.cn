webpackJsonp([2],{21:function(e,t){"use strict";function n(e){return("0"+e).substr(-2)}function o(e){return{replace:function(t,n){return e=e.replace(t,n),this},get:function(){return e}}}function r(e,t){if(e=new Date(e),"Invalid date"!==e.toString())return o(t).replace(/yyyy|YYYY/g,e.getFullYear()).replace("MM",n(e.getMonth()+1)).replace(/DD|dd/g,n(e.getDate())).replace(/hh|HH/g,n(e.getHours())).replace("mm",n(e.getMinutes())).replace("ss",n(e.getSeconds())).get()}function i(e,t){var n=null,o=!0,r=e;return function(){var e=arguments,i=this;return o?(o=!1,r.apply(i,e)):void(n||(n=setTimeout(function(){clearTimeout(n),n=null,r.apply(i,e)},t||200)))}}Object.defineProperty(t,"__esModule",{value:!0}),t.formatDate=r,t.throttle=i,window.addEventListener("touchstart",function(e){return e.stopPropagation()}),window.addEventListener("touchmove",function(e){return e.stopPropagation()}),window.imgloadError=function(e){e=e||window.event,e.target.style.display="none";var t=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");t.responseType="blob",t.open("GET","/img?source-url="+e.target.src,!0),t.send(),t.onload=function(){var t=window.URL.createObjectURL(this.response);e.target.src=t,e.target.height=60,e.target.onerror=null,e.target.onload=function(){window.URL.revokeObjectURL(this.src),e.target.style.display="initial"}}}},51:function(e,t,n){var o=n(192);"string"==typeof o&&(o=[[e.id,o,""]]);n(50)(o,{});o.locals&&(e.exports=o.locals)},53:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(2),u=o(s),c=n(21),p=n(14),f=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.scrolling=(0,c.throttle)(n.scroll(),10),n}return a(t,e),l(t,[{key:"scroll",value:function(){var e=this.props,t=e.dispatch,n=e.onScroll,o=0;return function(e){var r=e.scrollTop,i=e.scrollHeight,a=e.offsetHeight;t((0,p.scrolling)({curTop:r,scrollHeight:i,height:a,direction:r>o})),n&&n(e),o=r}}},{key:"render",value:function(){var e=this;return u.default.createElement("div",{onScroll:function(t){t.persist(),e.scrolling(t.target)},onTouchStart:function(e){return e.stopPropagation()},onTouchMove:function(e){return e.stopPropagation()}},this.props.children)}}]),t}(s.Component);t.default=f},173:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(2),c=r(u),p=n(51),f=o(p),d=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.news,n=e.reading,o=e.close;return c.default.createElement("div",{className:f.page+" "+f.newsContent+" "+(n===-1?f.pageHidden:f.pageShow)},c.default.createElement("header",null,c.default.createElement("i",{onClick:o,className:"material-icons"},"keyboard_backspace"),c.default.createElement("span",null,t&&t.title),c.default.createElement("i",{onClick:o,className:"material-icons"},"clear")),c.default.createElement("div",{onTouchStart:function(e){e.stopPropagation()},onTouchMove:function(e){e.stopPropagation()},className:"markdown-body "+f.markdown,dangerouslySetInnerHTML:{__html:t&&t.content}}))}}]),t}(u.Component);t.default=d},174:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(2),c=r(u),p=n(38),f=n(51),d=o(f),w=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"render",value:function(){return c.default.createElement("header",{className:d.newsHeader},c.default.createElement(p.Link,{to:"/"},c.default.createElement("img",{src:"/static/image/logo.png"})),c.default.createElement("span",null,"all of news form internet"))}}]),t}(u.Component);t.default=w},175:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(2),c=r(u),p=n(51),f=o(p),d=n(21),w=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.news,n=e.reading,o=e.preview;return c.default.createElement("ul",{style:{overflow:n===-1?"auto":"hidden"},className:f.newsList},Object.keys(t).map(function(e){return c.default.createElement("li",{onClick:function(){o(e)},className:f.newsItem,key:e},c.default.createElement("h1",null,t[e].title),c.default.createElement("p",{dangerouslySetInnerHTML:{__html:t[e].description}}),c.default.createElement("div",{className:f.itemFooter},c.default.createElement("span",null,(0,d.formatDate)(t[e].pubTime,"yyyy MM:DD HH:mm")),c.default.createElement("span",null,"from ",t[e].from)))}))}}]),t}(u.Component);t.default=w},182:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(2),c=r(u),p=n(36),f=n(51),d=o(f),w=n(53),h=r(w),g=n(174),b=r(g),m=n(175),y=r(m),v=n(173),x=r(v),_=n(14),O=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"componentDidMount",value:function(){this.props.dispatch((0,_.fecthNewsIfNeeded)())}},{key:"preview",value:function(e){this.props.dispatch((0,_.newsReading)(e))}},{key:"close",value:function(){this.props.dispatch((0,_.newsReading)())}},{key:"onScroll",value:function(){var e=this.props,t=e.dispatch,n=e.news,o=e.scroll,r=o.scrollHeight-o.height-o.curTop;r<500&&!n.isEnd&&o.direction&&!o.lock&&t((0,_.fetchMoreNews)())}},{key:"render",value:function(){var e=this.props,t=e.isApp,n=e.news,o=e.dispatch;return c.default.createElement("section",{className:t?d.appPage:""},c.default.createElement(b.default,null),c.default.createElement(h.default,{dispatch:o,onScroll:this.onScroll.bind(this)},c.default.createElement(y.default,{news:n.data,reading:n.reading,preview:this.preview.bind(this)})),c.default.createElement(x.default,{reading:n.reading,news:n.data[n.reading],close:this.close.bind(this)}))}}]),t}(u.Component);t.default=(0,p.connect)(function(e){return{news:e.news,isApp:e.isApp,scroll:e.scroll}})(O)},192:function(e,t,n){t=e.exports=n(40)(),t.push([e.id,".news-appPage .news-newsHeader{padding-top:20px;height:76px}.news-newsHeader{background-color:#1a1b2d;box-shadow:0 4px 9px 0 rgba(50,50,50,.6);height:56px;line-height:56px;position:fixed;top:0;width:100%;text-align:center;color:#fff;font-size:16px;box-sizing:border-box;z-index:11}.news-newsHeader img{width:36px;position:absolute;left:0;margin:10px 0 0 10px}.news-newsList{margin:0;padding:0;margin-top:76px;height:calc(100% - 76px);position:absolute;overflow:auto;width:100%;-webkit-overflow-scrolling:touch}.news-newsItem{list-style:none;margin:0 auto;overflow:hidden;padding:0 10px;cursor:default;position:relative;box-shadow:0 1px 0 0 hsla(0,0%,60%,.2)}@media (min-width:701px){.news-newsItem{width:640px}}@media (min-width:1025px){.news-newsItem{width:700px}}.news-newsItem>h1{font-size:16px;color:#333}.news-newsItem p{color:#737373;font-size:14px}.news-newsItem p img{width:100%}.news-itemFooter{display:-ms-flexbox;display:flex;padding:10px 0;color:#828d95}.news-itemFooter span{-ms-flex:1;flex:1}.news-itemFooter span:last-child{text-align:right}.news-newsContent *,.news-newsItem *{max-width:100%!important;height:auto!important}.news-newsContent br+br{display:none}.news-page{position:absolute;z-index:15;background:#fff;width:100%;top:0;box-shadow:0 2px 8px 0 rgba(0,0,0,.3);left:50%;transform:translateX(-50%);height:100%;overflow:hidden;-ms-flex-flow:column;flex-flow:column;box-sizing:border-box}.news-page,.news-page header{display:-ms-flexbox;display:flex}.news-page header{padding:0 5px;height:56px;line-height:56px;font-size:16px;font-weight:700;background:#ca3d3d;color:#fff;-ms-flex-align:center;align-items:center}.news-page header span{-ms-flex:1;flex:1;margin:0 15px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.news-page header i{width:24px;cursor:default}.news-appPage .news-page header i:last-child,.news-page header i:first-child{display:none}.news-appPage .news-page header i:first-child{display:-ms-flexbox;display:flex}.news-appPage .news-page header{padding-top:20px}.news-markdown{-ms-flex:1;flex:1;height:calc(100% - 56px);overflow:auto;padding:0 20px;margin-top:15px;padding-bottom:60px;box-sizing:border-box;-webkit-overflow-scrolling:touch}.news-pageHidden{top:-100%;transition:all .3s ease}.news-pageShow{top:0;transition:all .3s ease}@media screen and (max-width:700px){.news-pageHidden{left:100%}.news-pageHidden,.news-pageShow{transform:none;transition:all .2s cubic-bezier(.23,.21,.31,.3);box-shadow:none}.news-pageShow{left:0}}@media screen and (min-width:701px){.news-page{width:680px}}@media screen and (min-width:1025px){.news-page{width:740px}}",""]),t.locals={appPage:"news-appPage",newsHeader:"news-newsHeader",newsList:"news-newsList",newsItem:"news-newsItem",itemFooter:"news-itemFooter",newsContent:"news-newsContent",page:"news-page",markdown:"news-markdown",pageHidden:"news-pageHidden",pageShow:"news-pageShow"}}});
//# sourceMappingURL=2.app.js.map